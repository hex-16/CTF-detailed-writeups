# Web 安全

黑客利用网站操作系统的漏洞喝web服务程序的漏洞得到web服务器的控制权限，轻则篡改网页内容，重则窃取重要内部数据，更为重要的则是在网页中植入恶意代码，使得网站访问者收到侵害。

web类的题目包括但不限于:SQL注入，XSS跨站脚本，CSRF请求伪造，文件上传，文件包含，框架安全，PHP常见漏洞，代码审计等。

## http状态码

- 200：请求成功
- 301：资源被永久转移到其他URL
- 404：请求的资源不存在
- 500：服务器内部错误

1**：服务器收到请求，需要请求者继续执行操作

2**：操作被成功操作处理

3**：重定向，需要进一步的操作以完成请求

4**：客户端错误，请求包含语法错误或者无法完成请求

5**：服务器错误，服务器在处理请求的过程中发生了错误

## SQL注入

通过在用户可控参数中注入SQL语法，破坏原有SQL结构，达到编写程序时意料之外结果的攻击行为。其成因可以归结为以下两个原因叠加造成的：

1. 程序编写者在处理应用程序喝数据库交互时，使用字符串拼接的方式构造SQL语句
2. 未对用户可控参数进行足够的过滤便将参数内容拼接进入到SQL语句中

### web 程序三层架构

1. 界面层
2. 业务逻辑层（加载编译并执行index.php）
3. 数据访问层（执行SQL语句）

业务逻辑层的web服务器从本地存储中加载index.php脚本并解析。脚本连接位于数据访问层中的DBMS，权限认证通过就会执行sql语句。

**sql注入带来的威胁**：

- 猜解后台数据库，盗取网站的敏感信息
- 绕过认证
- 注入可以借助数据库的存储过程进行提权等操作

使用注释符#

使用or 和 and的判断语句，使得条件总是为真

- 都是利用了url中传递的参数条件进行攻击



## XSS跨站脚本攻击

跨站脚本攻击（Cross Site Scripting）层叠样式表（Cascading Style   Sheets）

恶意攻击者在web页面中插入恶意HTML代码，当用户浏览该页时，嵌入其中web里面的html代码会被执行，从而达到而已攻击用户的特殊目的。

### Cookies资料窃取

### 会话劫持

### 钓鱼欺骗



## XXE(XML External Entity attack)

XML外部实体注入攻击

## 命令执行

## 文件包含

如果允许客户端用户输入控制动态包含在服务器端的文件，会导致恶意代码的执行与敏感信息泄露，主要包括本地文件包含和远程文件包含两种形式。



## CSRF跨站请求伪造

在已登录用户不知情的情况下执行某种动作的攻击。比如可以在其不知情的情况下转移用户资金、发送邮件等操作。



## SSRF服务器端请求伪造

是一种由攻击者构造形成由服务端发起请求的一个安全漏洞。一般情况下，SSRF攻击的目标时从外网无法访问的内部系统，



## 文件上传

如果不对上传的文件进行限制或者限制被绕过，该功能便有可能会被利用于上传可执行文件、脚本到服务器上，进而导致服务器沦陷。



## 点击劫持

是一种视觉欺骗的手段，在web端就是iframe嵌套一个透明不可见的页面，让用户在不知情的情况下，点击攻击者想要欺骗用户点击的位置。



## VPS虚拟专用服务器



## 条件竞争

条件竞争漏洞是一种服务器端的漏洞，由于服务器端在处理不同用户的请求时时并发进行的，因此，如果并发处理不当或者相关操作逻辑顺序设计不合理时，将会导致此类问题的发生。



## 越权



一个账户即可控制全站用户数据。开发人员在对数据进行增删改查时对客户端请求的数据过分相信而遗漏了权限的判定。

 ## 序列化和反序列化

序列化是将对象转换为字节序列的过程，而反序列化则是将字节序列转换成目标对象的过程。

序列化：将对象转换为**便于传输**的格式，常见的格式：二进制格式、字节数组、json字符串、xml字符串

